---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "styra_stack Resource - terraform-provider-styra"
subcategory: ""
description: |-
  Stack Resource
---

# styra_stack (Resource)

Stack Resource

## Example Usage

```terraform
resource "styra_stack" "my_stack" {
  description = "...my_description..."
  name        = "...my_name..."
  read_only   = true
  source_control = {
    stack_origin = {
      commit      = "...my_commit..."
      credentials = "...my_credentials..."
      path        = "...my_path..."
      reference   = "...my_reference..."
      ssh_credentials = {
        passphrase  = "...my_passphrase..."
        private_key = "...my_private_key..."
      }
      url = "...my_url..."
    }
    use_workspace_settings = true
  }
  type = "...my_type..."
  type_parameters = {
    # ...
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `description` (String)
- `name` (String)
- `read_only` (Boolean)
- `type` (String)

### Optional

- `source_control` (Attributes) (see [below for nested schema](#nestedatt--source_control))
- `type_parameters` (Attributes) stack type parameter values (for template.* types) (see [below for nested schema](#nestedatt--type_parameters))

### Read-Only

- `authz` (Attributes) (see [below for nested schema](#nestedatt--authz))
- `datasources` (Attributes List) datasources created for the stack (see [below for nested schema](#nestedatt--datasources))
- `errors` (Attributes Map) current stack deployment errors (see [below for nested schema](#nestedatt--errors))
- `id` (String) stack id
- `matching_systems` (List of String) IDs of systems matching the stack
- `metadata` (Attributes) (see [below for nested schema](#nestedatt--metadata))
- `migration_history` (Attributes List) A history of any migrations performed on this stack (see [below for nested schema](#nestedatt--migration_history))
- `minimum_opa_version` (String) minimum running OPA version for any of the matching systems
- `policies` (Attributes List) (see [below for nested schema](#nestedatt--policies))
- `status` (String)

<a id="nestedatt--source_control"></a>
### Nested Schema for `source_control`

Optional:

- `stack_origin` (Attributes) (see [below for nested schema](#nestedatt--source_control--stack_origin))
- `use_workspace_settings` (Boolean) Not Null

<a id="nestedatt--source_control--stack_origin"></a>
### Nested Schema for `source_control.stack_origin`

Optional:

- `commit` (String) Commit SHA. Only one of reference or commit can be set at any time. Not Null
- `credentials` (String) Credentials are looked under the key <name>/<creds>. Not Null
- `path` (String) Path to limit the import to. Not Null
- `reference` (String) Remote reference. Only one of reference or commit can be set at any time. Not Null
- `ssh_credentials` (Attributes) (see [below for nested schema](#nestedatt--source_control--stack_origin--ssh_credentials))
- `url` (String) Repository URL. Not Null

<a id="nestedatt--source_control--stack_origin--ssh_credentials"></a>
### Nested Schema for `source_control.stack_origin.ssh_credentials`

Optional:

- `passphrase` (String) Passphrase is looked under the key passphrase/<pass>. Not Null
- `private_key` (String) PrivateKey is looked under the key private-key/<key>. Not Null




<a id="nestedatt--type_parameters"></a>
### Nested Schema for `type_parameters`


<a id="nestedatt--authz"></a>
### Nested Schema for `authz`

Read-Only:

- `role_bindings` (Attributes List) a list of role binding configs (see [below for nested schema](#nestedatt--authz--role_bindings))

<a id="nestedatt--authz--role_bindings"></a>
### Nested Schema for `authz.role_bindings`

Read-Only:

- `id` (String) role binding ID
- `role_name` (String) role name



<a id="nestedatt--datasources"></a>
### Nested Schema for `datasources`

Read-Only:

- `category` (String) datasource category
- `id` (String) datasource ID
- `optional` (Boolean) optional datasources can be deleted without being recreated automatically
- `status` (Attributes) (see [below for nested schema](#nestedatt--datasources--status))

<a id="nestedatt--datasources--status"></a>
### Nested Schema for `datasources.status`

Read-Only:

- `code` (String)
- `message` (String)
- `timestamp` (String)



<a id="nestedatt--errors"></a>
### Nested Schema for `errors`

Read-Only:

- `errors` (Attributes List) list of system errors (see [below for nested schema](#nestedatt--errors--errors))
- `waiting` (Boolean) true if the the system is waiting for error to be resolved

<a id="nestedatt--errors--errors"></a>
### Nested Schema for `errors.errors`

Read-Only:

- `code` (String)
- `message` (String)
- `timestamp` (String)



<a id="nestedatt--metadata"></a>
### Nested Schema for `metadata`

Read-Only:

- `created_at` (String)
- `created_by` (String)
- `created_through` (String)
- `last_modified_at` (String)
- `last_modified_by` (String)
- `last_modified_through` (String)


<a id="nestedatt--migration_history"></a>
### Nested Schema for `migration_history`

Read-Only:

- `from` (String)
- `initiated_by` (String)
- `initiating_user` (String)
- `migrated_at` (String)
- `recovered` (Boolean)
- `to` (String)


<a id="nestedatt--policies"></a>
### Nested Schema for `policies`

Read-Only:

- `created` (String) policy on when to (re)generate the policy
- `enforcement` (Attributes) (see [below for nested schema](#nestedatt--policies--enforcement))
- `id` (String) policy ID (path)
- `modules` (Attributes List) rego modules policy consists of (see [below for nested schema](#nestedatt--policies--modules))
- `rules` (Attributes) (see [below for nested schema](#nestedatt--policies--rules))
- `type` (String) policy type e.g. validating/rules

<a id="nestedatt--policies--enforcement"></a>
### Nested Schema for `policies.enforcement`

Read-Only:

- `enforced` (Boolean) true if the policy is enforced
- `type` (String) enforcement type e.g. opa, test, mask


<a id="nestedatt--policies--modules"></a>
### Nested Schema for `policies.modules`

Read-Only:

- `name` (String) module name
- `placeholder` (Boolean) module is a placeholder. Default: false
- `read_only` (Boolean) true if module is read-only
- `rules` (Attributes) (see [below for nested schema](#nestedatt--policies--modules--rules))

<a id="nestedatt--policies--modules--rules"></a>
### Nested Schema for `policies.modules.rules`

Read-Only:

- `allow` (Number) number of allow rules
- `deny` (Number) number of deny rules
- `enforce` (Number) number of enforce rules
- `ignore` (Number) number of ignore rules
- `monitor` (Number) number of monitor rules
- `notify` (Number) number of notify rules
- `other` (Number) number of unclassified rules
- `test` (Number) number of test rules
- `total` (Number) total number of rules



<a id="nestedatt--policies--rules"></a>
### Nested Schema for `policies.rules`

Read-Only:

- `allow` (Number) number of allow rules
- `deny` (Number) number of deny rules
- `enforce` (Number) number of enforce rules
- `ignore` (Number) number of ignore rules
- `monitor` (Number) number of monitor rules
- `notify` (Number) number of notify rules
- `other` (Number) number of unclassified rules
- `test` (Number) number of test rules
- `total` (Number) total number of rules

## Import

Import is supported using the following syntax:

```shell
terraform import styra_stack.my_styra_stack ""
```
